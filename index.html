<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <title>NutriVision AI</title>
    
    <!-- PWA Settings for iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="NutriVision" />
    <link rel="apple-touch-icon" href="https://picsum.photos/192/192" />
    <link rel="manifest" href="./manifest.json" />
    
    <!-- Polyfill process.env for browser safety -->
    <script>
      window.process = window.process || { env: {} };
    </script>
    
    <!-- Barcode Scanner Library -->
    <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>

    <!-- Tailwind CSS (Using CDN for simplicity in this build setup) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              // Opal-inspired soft color palette
              opal: {
                bg: '#F8F6F4',
                bgDark: '#F5F3F0',
                card: '#FFFFFF',
                lavender: '#C8A8E9',
                lavenderLight: '#E8D5F5',
                lavenderDark: '#A78BFA',
                purple: '#D8B4FE',
                purpleLight: '#EDD9FE',
                purpleDark: '#C084FC',
                gray: '#9CA3AF',
                grayLight: '#E5E7EB',
                grayDark: '#6B7280',
                text: '#1F2937',
                textLight: '#6B7280',
                textMuted: '#9CA3AF',
              },
              // Soft gradient spectrum (Opal style)
              primary: {
                50: '#F5F3FF',
                100: '#EDE9FE',
                200: '#DDD6FE',
                300: '#C4B5FD',
                400: '#A78BFA',
                500: '#8B5CF6',
                600: '#7C3AED',
                700: '#6D28D9',
                800: '#5B21B6',
                900: '#4C1D95',
              },
              accent: {
                lavender: '#C8A8E9',
                purple: '#A78BFA',
                violet: '#D8B4FE',
                soft: '#E8D5F5',
                warm: '#F3E8FF',
              },
              // Success, warning, achievement colors (softened)
              success: '#A7F3D0',
              warning: '#FDE68A',
              achievement: '#FCD34D',
            },
            fontFamily: {
              sans: ['-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', 'sans-serif'],
            },
            fontSize: {
              'display': ['48px', { lineHeight: '1.1', fontWeight: '800' }],
              'display-lg': ['56px', { lineHeight: '1.1', fontWeight: '800' }],
              'title-1': ['28px', { lineHeight: '1.2', fontWeight: '700' }],
              'title-1-lg': ['32px', { lineHeight: '1.2', fontWeight: '700' }],
              'title-2': ['22px', { lineHeight: '1.3', fontWeight: '600' }],
              'title-2-lg': ['24px', { lineHeight: '1.3', fontWeight: '600' }],
              'body': ['16px', { lineHeight: '1.5', fontWeight: '400' }],
              'body-lg': ['17px', { lineHeight: '1.5', fontWeight: '400' }],
              'caption': ['12px', { lineHeight: '1.4', fontWeight: '500' }],
              'caption-lg': ['13px', { lineHeight: '1.4', fontWeight: '500' }],
            },
            keyframes: {
              fadeIn: {
                '0%': { opacity: '0' },
                '100%': { opacity: '1' },
              },
              slideUp: {
                '0%': { transform: 'translateY(100%)' },
                '100%': { transform: 'translateY(0)' },
              },
              fadeInDown: {
                '0%': { opacity: '0', transform: 'translateY(-10px)' },
                '100%': { opacity: '1', transform: 'translateY(0)' },
              },
              // Spring physics animations
              springUp: {
                '0%': { opacity: '0', transform: 'translateY(20px) scale(0.95)' },
                '60%': { opacity: '1', transform: 'translateY(-2px) scale(1.01)' },
                '100%': { opacity: '1', transform: 'translateY(0) scale(1)' },
              },
              springBounce: {
                '0%, 100%': { transform: 'scale(1)' },
                '50%': { transform: 'scale(1.05)' },
              },
              // Press interactions
              press: {
                '0%': { transform: 'scale(1)' },
                '50%': { transform: 'scale(0.96)' },
                '100%': { transform: 'scale(1)' },
              },
              pressCard: {
                '0%': { transform: 'scale(1)' },
                '50%': { transform: 'scale(0.98)' },
                '100%': { transform: 'scale(1)' },
              },
              // Shimmer loading
              shimmer: {
                '0%': { backgroundPosition: '-1000px 0' },
                '100%': { backgroundPosition: '1000px 0' },
              },
              // Breathing animation
              breathe: {
                '0%, 100%': { transform: 'scale(1)', opacity: '1' },
                '50%': { transform: 'scale(1.02)', opacity: '0.9' },
              },
              // Checkmark draw
              checkmark: {
                '0%': { strokeDashoffset: '100' },
                '100%': { strokeDashoffset: '0' },
              },
              // Error shake
              shake: {
                '0%, 100%': { transform: 'translateX(0)' },
                '10%, 30%, 50%, 70%, 90%': { transform: 'translateX(-4px)' },
                '20%, 40%, 60%, 80%': { transform: 'translateX(4px)' },
              },
              // Ink spread
              inkSpread: {
                '0%': { transform: 'scale(0)', opacity: '0.5' },
                '100%': { transform: 'scale(4)', opacity: '0' },
              },
              // Number counter
              countUp: {
                '0%': { opacity: '0', transform: 'translateY(10px)' },
                '100%': { opacity: '1', transform: 'translateY(0)' },
              },
              // Confetti
              confetti: {
                '0%': { transform: 'translateY(0) rotate(0deg)', opacity: '1' },
                '100%': { transform: 'translateY(-100vh) rotate(720deg)', opacity: '0' },
              },
            },
            animation: {
              'fade-in': 'fadeIn 0.3s ease-out',
              'slide-up': 'slideUp 0.3s ease-out',
              'fade-in-down': 'fadeInDown 0.5s ease-out',
              'spring-up': 'springUp 0.5s cubic-bezier(0.34, 1.56, 0.64, 1)',
              'spring-bounce': 'springBounce 1s ease-in-out infinite',
              'press': 'press 0.2s ease-out',
              'press-card': 'pressCard 0.2s ease-out',
              'shimmer': 'shimmer 2s linear infinite',
              'breathe': 'breathe 3s ease-in-out infinite',
              'checkmark': 'checkmark 0.6s ease-out forwards',
              'shake': 'shake 0.5s ease-in-out',
              'ink-spread': 'inkSpread 0.4s ease-out',
              'count-up': 'countUp 0.5s ease-out',
              'confetti': 'confetti 3s ease-out forwards',
            },
            transitionTimingFunction: {
              'spring': 'cubic-bezier(0.34, 1.56, 0.64, 1)',
              'bounce-in': 'cubic-bezier(0.68, -0.55, 0.265, 1.55)',
            },
          }
        }
      }
    </script>

    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
<script type="importmap">
{
  "imports": {
    "vite": "https://aistudiocdn.com/vite@^7.2.6",
    "@vitejs/plugin-react": "https://aistudiocdn.com/@vitejs/plugin-react@^5.1.1",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "d3": "https://aistudiocdn.com/d3@^7.9.0",
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.30.0"
  }
}
</script>
<link rel="stylesheet" href="/index.css">
</head>
  <body class="bg-[#F8F6F4] text-[#1F2937] antialiased select-none overflow-hidden overscroll-none">
    <div id="root" class="h-screen w-full flex flex-col"></div>
    <!-- Standard Vite Entry Point -->
    <script type="module" src="/index.tsx"></script>
  </body>
</html>